​    假设我们使用`LAMP`搭建了一个网站，并发状态的请求有`200`个,而其中的 `50`个请求是 `dynamic（动态的）`那么我们估算它需要多少资源，假设我们的`apache`工作在`prefork`模式下，大概每一个进程所占用的内存空间应该有`2M`，涉及到的动态进程，一个动态进程内存空间大概是`10M`左右。`500M+150*2M`所以大致需要`800M`的内存，这`50`个动态进程，每个在执行的时候可能和本地的`mysql`进行交互，`mysql`是`cup`密集型的操作，而且进程切换本身也需要`cpu`，所以我们配置了一个2个`cpu`和`4g`内存，另外假设`200`个请求同时到达，那么我们的网卡要开始进行处理，还是需要`cpu` 。因为到达网卡上的`http`请求，是通过硬件网卡上来的，所以首先要到达内核空间，但是我们的`web`服务器是运行在用户空间的，所以需要内核空间进行一定的处理传递给用户空间的`web`服务器。

   因为有`200`个并发请求，那么意味着随时随地可能有`200`个`IO`。而几乎每一个`IO`都需要有`CPU`的参与来执行的。而且每个用户的请求数据都位于磁盘上。磁盘上的数据只有被操作系统内核载入到内核空间才能通过`web`服务器经过网卡发送给用户，所以`web`请求的背后，会涉及到大量的网络`IO`和磁盘`IO`。而这些不可避免的会影响我们网络服务器的性能的。假如网站越来越受到环境，并发请求变成了`1000`，那么其中有动态请求是`200`。什么是动态请求，什么是静态请求，比如请求`html，css，img`等等这些都是静态请求，需要服务器程序运行的就是动态请求。动态请求的执行速度很慢的，比静态请求慢。那么这个时候需要的资源就是`800*2+200*10`，那么这个时候资源开始吃紧了。我们还是两个`cpu`但是我们有`1000`个进程，所以一个`cpu`上会有500个进程进行切换，那么这个时候光进行切换，就需要很多的资源，所以我们的服务器应该相当的吃力了。